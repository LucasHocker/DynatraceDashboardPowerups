var DashboardPowerups=function(){const e='[uitestid="gwt-debug-title"]',t='[uitestid="gwt-debug-custom-chart-single-value-formatted-value"] > span:first-of-type, [uitestid="gwt-debug-kpiValue"] > span:first-of-type',o=".grid-tile",i='[uitestid="gwt-debug-legend"]',n='[uitestid="gwt-debug-MARKDOWN"] > div:first-child > div:first-child',r='[uitestid="gwt-debug-custom-chart-single-value-formatted-value"] span, [uitestid="gwt-debug-kpiValue"] span',a='[uitestid="gwt-debug-trendLabel"]',s='[uitestid="gwt-debug-map"]',l='span[uitestid="gwt-debug-WorldMapTile"]',c='[uitestid="gwt-debug-tablePanel"]',d='[uitestid="gwt-debug-tablePanel"] > div > div',u='[uitestid="gwt-debug-dashboardNameLabel"]',p='[uitestid="gwt-debug-showMoreTags"] ~ [title]',h='[uitestid="gwt-debug-funnelPanel"]',g="!PU(color):",f="!PU(svg):",w="!PU(map):",m="!PU(link):",b="!PU(banner):",v="!PU(line):",P="!PU(usqlstack):",y="!PU(heatmap):",k="!PU(sankey):",x="!PU(funnel):",C="!PU(math):",U="!PU(date):",S=[g,f,m,w,b,v,P,y,x,k,C,U],T={plotBackgroundColor:"#454646"},A={animation:!1,allowPointSelect:!0,cursor:"crosshair",enableMouseTracking:!0,stickyTracking:!0,states:{hover:{enabled:!0,halo:{opacity:.25,size:10}}}},L={enabled:!0,animation:!1,outside:!0,useHTML:!0,hideDelay:100,shared:!0,formatter:function(){if(void 0!==this.points)return this.points.reduce(function(e,t){let n=t.series.name,r=n.indexOf("¦")||"APPLICATION-0000000000000000".length,a=n.substring(0,r)||"",s=$(t.series.chart.container),l=t.series.color,c=s.parents(o).find(i);if(c.length){t.series.index;let e=c.find(`svg[fill='${l}']`).parents(".gwt-HTML").text();e.length&&(a=e)}let d=Number(t.y);d=Number.isNaN(d)?t.y:d.toLocaleString(void 0,{maximumFractionDigits:2});let u=e+`<div class="powerupLineTooltip">\n                    <div class="dot" style="color: ${t.color}; background:${R(l)}">● </div>\n                    <div>${a}:</div>\n                    <div class="spacer"></div>\n                    <div>${d}</div>\n                </div>`;return u},"<b>"+Highcharts.dateFormat("%H:%M",this.x)+"</b>")}},N={crosshair:{color:"#cccccc",width:"1px"}},M={attributes:!0,childList:!0,subtree:!0};var E=[],I=[],H=[],G=!1;const D=(e,t)=>{let o;return function(...i){const n=()=>{clearTimeout(o),e(...i)};clearTimeout(o),o=setTimeout(n,t)}},R=e=>{let t=d3.rgb(e),o=.2126*t.r/255+.7152*t.g/255+.0722*t.b/255;return(o+.05)/.05>1.05/(o+.05)?"black":"white"},V=(e,t,o=5)=>{o<1?console.log(`POWERUP: CRITICAL - failed to load Highcharts module ${e}`):e in Highcharts.seriesTypes?t():setTimeout(()=>{V(e,t,o-1)},100)};var O={POWERUP_EXT_URL:"",SVGLib:()=>O.POWERUP_EXT_URL+encodeURI("3rdParty/node_modules/@dynatrace/barista-icons/"),config:{},PUHighchartsMutex:{blocking:!1,blocked:0},PUHighchartsStatus:()=>Highcharts.charts.filter(e=>void 0!==e).map(e=>e.poweredup),SVGInject:(e,t=5)=>{if("undefined"==typeof SVGInject){if(t<1)return!1;setTimeout(()=>{O.SVGInject(e,t-1)},100)}else SVGInject(e)},PUHighcharts:function(){function e(){Highcharts.wrap(Highcharts.Chart.prototype,"contextMenu",function(e){if(e.apply(this,Array.prototype.slice.call(arguments,1)),void 0===this.exportContextMenu.style.originalTop){var t=Highcharts.offset(this.container),o=10;this.exportContextMenu.style.top=parseInt(this.exportContextMenu.style.top)+t.top+"px",this.exportContextMenu.style.left=t.left+this.chartWidth-this.exportMenuWidth-parseInt(this.exportContextMenu.style.padding)-o+"px",this.exportContextMenu.style.width=this.exportMenuWidth+"px",this.exportContextMenu.style.originalTop=this.exportContextMenu.style.top,Highcharts.doc.body.appendChild(this.exportContextMenu),this.exportContextMenu.poweredup=!0}else{t=Highcharts.offset(this.container),o=10;this.exportContextMenu.style.top=this.exportContextMenu.style.originalTop}})}if(window.location.hash.startsWith("#dashboard;")||window.location.hash.startsWith("#dashboard/dashboard;")){if(O.PUHighchartsMutex.blocking)return O.PUHighchartsMutex.blocked++,O.PUHighchartsMutex.blocked%100==0&&console.log("Powerup: WARN - PUHighcharts mutex blocked, skipped "+O.PUHighchartsMutex.blocked),!1;O.PUHighchartsMutex.blocking=!0,O.config.Powerups.debug&&console.log("Powerup: powering-up Highcharts...");let t=0,o=[],i=new $.Deferred;return e(),Highcharts.charts.filter(e=>void 0!==e).filter(e=>void 0!==e.container).filter(e=>"sankey"!=e.options.type&&"heatmap"!=e.options.type).forEach(e=>{let i=O.PUHighchart(e);o.push(i),$.when(i).done(e=>{e&&t++})}),$.when.apply($,o).then(function(){$(".highcharts-container").css("z-index",999),O.config.Powerups.debug&&console.log("Powerup: "+t+" Highcharts powered-up."),i.resolve(!0),O.PUHighchartsMutex.blocking=!1,O.PUHighchartsMutex.blocked=0}),i}return O.config.Powerups.debug&&console.log("Powerup: no longer on a dashboard, removing PUHighcharts listener..."),Highcharts.removeEvent(Highcharts.Chart,"load",O.PUHighcharts),!1},PUHighchart:function(t){let i=!1;var n={enabled:!0,fallbackToExportServer:!0,libURL:O.POWERUP_EXT_URL+"3rdParty/Highcharts/lib",buttons:{contextButton:{menuItems:["downloadSVG","downloadPDF","separator","downloadCSV","downloadXLS","printChart"]}}};const r=function(e,t){for(var o in e){if(e.hasOwnProperty(o)!==t.hasOwnProperty(o))return!1;switch(typeof e[o]){case"object":if(!r(e[o],t[o]))return!1;break;case"function":if(void 0===t[o]||"compare"!=o&&e[o].toString()!=t[o].toString())return!1;break;default:if(e[o]!=t[o])return!1}}return!0},a=function(){let e=$(t.container);r(n,t.options.exporting)||(t.update({exporting:n},!1),i=!0),e.off("mouseenter.powerup").on("mouseenter.powerup",t=>{e.find(".highcharts-exporting-group").addClass("powerupVisible")}).off("mouseleave.powerup").on("mouseleave.powerup",t=>{e.find(".highcharts-exporting-group").removeClass("powerupVisible")})},s=function(){let e=$(t.container);e.find(".highcharts-plot-background").off("touchstart.powerup").on("touchstart.powerup",e=>{t.pointer.onContainerTouchStart(e),e.stopImmediatePropagation()}).off("touchmove.powerup").on("touchmove.powerup",e=>{t.pointer.onContainerTouchMove(e),e.stopImmediatePropagation()}).off("click.powerup").on("click.powerup",e=>{console.log("Powerup: clicked plot background"),e.stopImmediatePropagation()}).addClass("powerupPlotBackground")};var l=function(){$(t.container);t.series.forEach(e=>{r(A,e.options)||(e.update(A,!1),i=!0)}),r(T,t.options.chart)||(t.update({chart:T},!1),i=!0),r(L,t.tooltip.options)||(t.update({tooltip:L},!1),i=!0),r(N,t.xAxis[0].options)||(t.update({xAxis:N},!1),i=!0),r(N,t.yAxis[0].options)||(t.update({yAxis:N},!1),i=!0),s()};if(O.config.Powerups.tooltipPU&&void 0!==t&&void 0!==t.container){let n=new $.Deferred,r=[],c=$(t.container),d=c.parents(o),u=d.find(e),p=u.text();if(p.includes(v))O.PULine(t,p)&&(i=!0,l(),a());else if(p.includes(P)){let e=O.PUUsqlStack(t,p);r.push(e),$.when(e).done(e=>{s(),a(),e&&(i=!0)})}else p.includes(y)?$(t.container).is(":visible")?O.PUHeatmap(t,p)&&(i=!0):O.PUHeatmap(t,p,$("#heatmap").get(0))&&(i=!0):(l(),a());return $.when.apply($,r).then(()=>{if(i)try{Object.keys(t).length?("heatmap"in Highcharts.seriesTypes&&void 0===t.colorAxis&&(t.colorAxis=[]),t.redraw(!1)):console.log("Powerup: DEBUG - ignoring empty chart")}catch(e){console.log("Powerup: CRITICAL - failed to redraw, error:"),console.log(e),console.log(t)}n.resolve(!0)}),n}return!1},PULine:function(e,t){if(!O.config.Powerups.linePU)return;let o=t.split(v),i=o[1],n=i.split(";").map(e=>e.split("="));if(n.length<3)return O.config.Powerups.debug&&console.log("Powerup: ERROR - invalid argstring: "+i),!1;let r=n.find(e=>"thld"==e[0])[1],a=n.find(e=>"hcol"==e[0])[1],s=n.find(e=>"lcol"==e[0])[1],l={threshold:r,negativeColor:s,color:a};return e.series[0].update(l),e.yAxis[0].addPlotLine({value:r,color:"yellow",width:1}),!0},PUUsqlStack:function(e,t,o=3){if(!O.config.Powerups.usqlstackPU)return!1;let i=new $.Deferred,n=t.split(P),r=n[1],a=r.split(";").map(e=>e.split("="));if(a.length<1)return O.config.Powerups.debug&&console.log("Powerup: ERROR - invalid argstring: "+r),!1;a.find(e=>"color"==e[0])[1];if(1!=e.series.length)return!1;if(!e.series[0].data.length)return!!o&&(setTimeout(()=>{let n=O.PUUsqlStack(e,t,o-1);$.when(n).done(e=>{i.resolve(e)})},50),i);if(!e.series[0].data[0].name.includes(","))return!1;let s=[],l=[],c=[];return e.series[0].data.forEach(t=>{let o=t.name.split(","),i=o[0],n=o[1].trim(),r=s.findIndex(e=>e==n);if(r<0){s.push(n);let o={name:e.series[0].name+`(${n})`,type:"bar",cursor:"crosshair",stacking:"normal",data:[{name:i,x:0,y:t.y}]};l.push(o)}else l[r].data.push({name:i,x:l[r].data.length,y:t.y});c.findIndex(e=>e==i)<0&&c.push(i)}),e.series[0].remove(!1,!1),e.axes[0].setCategories(c,!1),l.forEach((t,o)=>{e.addSeries(t,!1,!1)}),e.update({chart:T},!1),e.redraw(!1),$(".highcharts-exporting-group").addClass("powerupVisible"),i.resolve(!0),i},highlightPointsInOtherCharts:function(e){if(!O.config.Powerups.tooltipPU)return;const t=e.currentTarget,o=Highcharts.charts.filter(e=>void 0!==e).filter(e=>"sankey"!=e.options.type&&"heatmap"!=e.options.type),i=o.findIndex(e=>e.container===t);if(i>-1){const t=o[i],r=t.pointer.normalize(e.originalEvent);var n;if(t.series.forEach((e,t)=>{n||(n=e.searchPoint(r,!0))}),n&&n.series&&n.series.xAxis&&n.series.yAxis){const e=n.x;for(let t=0;t<o.length;t++)if(t!=i)for(let i=0;i<o[t].series.length;i++){const n=o[t].series[i].points;for(let t=0;t<n.length;t++)if(n[t].x===e){n[t].series.xAxis.drawCrosshair(void 0,n[t]),n[t].series.yAxis.drawCrosshair(void 0,n[t]);break}}}}},removeHighlightPointsInOtherCharts:function(e){const t=Highcharts.charts.filter(e=>void 0!==e);for(let e=0;e<t.length;e++)t[e].xAxis[0].hideCrosshair()},loadChartSync:function(){$('[uitestid="gwt-debug-dashboardGrid"]').off("mouseover",".highcharts-container"),$('[uitestid="gwt-debug-dashboardGrid"]').off("mouseout",".highcharts-container"),$('[uitestid="gwt-debug-dashboardGrid"]').on("mouseover",".highcharts-container",D(O.highlightPointsInOtherCharts,50)),$('[uitestid="gwt-debug-dashboardGrid"]').on("mouseout",".highcharts-container",O.removeHighlightPointsInOtherCharts)},cleanMarkup:function(){let t=new $.Deferred;return O.config.Powerups.debug&&console.log("Powerup: DEBUG - clean power-up markup"),$(e).each((e,t)=>{let o=$(t);if(o.children(".powerup-markup").length)return!0;let i=o.text(),n=i.length;n=S.reduce((e,t)=>i.includes(t)?Math.min(i.indexOf(t),e):Math.min(e,n),n);let r=i.substring(0,n)+'<span class="powerup-markup">'+i.substring(n)+"</span>";n<i.length&&o.html(r)}),$(p).each((e,t)=>{let o=$(t),i=o.attr("title");i.includes(b)&&o.hide()}),t.resolve(!0),t},bannerPowerUp:function(){if(!O.config.Powerups.bannerPU)return;let e=!1;$(p).each((t,o)=>{let i=$(o),n=i.attr("title");if(n.includes(b)){let t=n.split(b),o=t[1],i=o.split(";").map(e=>e.split("=")),r=i.find(e=>"color"==e[0])[1];$(u).css("background",r),$(u).css("color",R(r)),e=!0}}),e?O.config.Powerups.debug&&console.log("Powerup: DEBUG - banner power-up found"):($(u).css("background",""),$(u).css("color",""))},colorPowerUp:function(){if(!O.config.Powerups.colorPU)return;let o="powerup-color-normal",i="powerup-color-warning";switch(O.config.Powerups.animateWarning){case"3 Pulses":i+="-blink threeBlink";break;case"Always":i+="-blink"}let n="powerup-color-critical";switch(O.config.Powerups.animateCritical){case"Always":n+="-blink";break;case"Never":break;case"3 Pulses":default:n+="-blink threeBlink"}$(e).each((e,s)=>{let l=$(s),c=l.parents(".grid-tile"),d=c.find(r);if(l.text().includes(g)){O.config.Powerups.debug&&console.log("Powerup: color power-up found");let e=l.text().split(g),r=e[1],s=r.split(";").map(e=>e.split("="));if(s.length<3)return console.log("Powerup: ERROR - invalid argstring: "+r),!1;let u=s.find(e=>"base"==e[0])[1],p=Number(s.find(e=>"warn"==e[0])[1]),h=Number(s.find(e=>"crit"==e[0])[1]),f=Number(c.find(t).text().replace(/,/g,"")),w="Border"==O.config.Powerups.colorPUTarget?c:d;w.removeClass("powerup-color-critical powerup-color-warning powerup-color-normal"),w.removeClass("powerup-color-critical-blink powerup-color-warning-blink threeBlink"),"low"==u?f<p?w.addClass(o):f<h?w.addClass(i):w.addClass(n):"high"==u&&(f>p?w.addClass(o):f>h?w.addClass(i):w.addClass(n));let m=c.find(a);if(m.length){let e=Number(m.text().replace(/%/,""));m.removeClass("powerup-color-critical powerup-color-warning powerup-color-normal"),"low"==u?e>0?m.addClass("powerup-color-warning"):e<0&&m.addClass("powerup-color-normal"):"high"==u&&(e<0?m.addClass("powerup-color-warning"):e>0&&m.addClass("powerup-color-normal"))}}})},svgPowerUp:function(){if(!O.config.Powerups.svgPU)return;let e="powerup-svg-normal",t="powerup-svg-warning";switch(O.config.Powerups.animateWarning){case"3 Pulses":t+="-blink threeBlink";break;case"Always":t+="-blink"}let o="powerup-svg-critical";switch(O.config.Powerups.animateCritical){case"Always":o+="-blink";break;case"Never":break;case"3 Pulses":default:o+="-blink threeBlink"}$(n).each((i,n)=>{let r=$(n);r.parents(".grid-tile");if(!r.text().includes(f))return;O.config.Powerups.debug&&console.log("Powerup: svg power-up found");let a=r.text().split(f)[1],s=a.split(";").map(e=>e.split("=")),l=s.find(e=>"icon"==e[0])[1],c=s.find(e=>"link"==e[0])[1],d=s.find(e=>"base"==e[0])[1],u=Number(s.find(e=>"warn"==e[0])[1]),p=Number(s.find(e=>"crit"==e[0])[1]),h={icon:l,link:c,base:d,warn:u,crit:p},g=O.findLinkedVal(c);var w=O.SVGLib()+encodeURI(`${l}.svg`);fetch(w).then(e=>e.text()).then(i=>{r.empty();let n=$(i).attr("data-args",JSON.stringify(h)).appendTo(r);n.removeClass("powerup-svg-critical powerup-svg-warning powerup-svg-normal"),n.removeClass("powerup-svg-critical-blink powerup-svg-warning-blink threeBlink"),"low"==d?g<u?n.addClass(e):g<p?n.addClass(t):n.addClass(o):"high"==d&&(g>u?n.addClass(e):g>p?n.addClass(t):n.addClass(o))})})},updateSVGPowerUp:function(){if(!O.config.Powerups.svgPU)return;let e="powerup-svg-normal",t="powerup-svg-warning";switch(O.config.Powerups.animateWarning){case"3 Pulses":t+="-blink threeBlink";break;case"Always":t+="-blink"}let o="powerup-svg-critical";switch(O.config.Powerups.animateCritical){case"Always":o+="-blink";break;case"Never":break;case"3 Pulses":default:o+="-blink threeBlink"}$(n).each((i,n)=>{let r=$(n),a=(r.parents(".grid-tile"),r.find("svg:first-of-type"));if(a.length&&!a.hasClass("highcharts-root")){let i=a.attr("data-args")||"{}";i=JSON.parse(i);let n=O.findLinkedVal(i.link);a.removeClass("powerup-svg-critical powerup-svg-warning powerup-svg-normal"),a.removeClass("powerup-svg-critical-blink powerup-svg-warning-blink threeBlink"),"low"==i.base?n<i.warn?a.addClass(e):n<i.crit?a.addClass(t):a.addClass(o):"high"==i.base&&(n>i.warn?a.addClass(e):n>i.crit?a.addClass(t):a.addClass(o))}})},findLinkedVal:function(o){let i,n=m+o;return $(e).each((e,o)=>{let r=$(o);if(r.text().includes(n)){let e=r.parents(".grid-tile");i=Number(e.find(t).text())}}),void 0===i?void console.log("Powerup: ERROR - unable to match link: "+n):i},findLinkedMarkdown:function(e){let t,o=m+e;return $(n).each((e,i)=>{$(i).text().includes(o)&&(t=i)}),void 0===t?void console.log("Powerup: ERROR - unable to match markdown with link: "+o):t},sankeyPowerUp:function(){function t(e){let t=$(e),o=[],i=[],n=[],r=[],s={strings:[],doubles:[],longs:[],dates:[]};return t.children("div:first-of-type").children("div").each((e,t)=>{let l=$(t).find("span");l.eq(0).text(),l.length;void 0===o[e]&&(o[e]=[]),l.each(function(t,l){void 0===o[e][t]&&(o[e][t]=[]);let c=$(l).text();if("["!=c.substring(0,1)||"]"!=c.substr(-1))return;let d=c.substr(1,c.length-2).split(",").map(e=>e.trim()).map(e=>e.replace(a,"/*$1"));if(o[e][t]=d,0==e)for(let e=0;e<d.length-1;e++){let t={from:d[e],to:d[e+1]};if(t.from===t.to)continue;let o=i.findIndex(e=>e.from===t.from&&e.to===t.to);o<0?(t.weight=1,i.push(t)):i[o].weight++}else if(1==e){for(let e=0;e<d.length;e++)if("[]"!==d[e]){let i=o[0][t][e],r=n.findIndex(e=>e.actionName==i);r<0?n.push({actionName:i,count:1,svg:`<img src='${O.SVGLib()+"finishflag.svg"}' onload="DashboardPowerups.SVGInject(this)" class='powerup-sankey-icon powerup-icon-white'>`,goalName:d[e].substr(1,d[e].length-2).trim()}):n[r].count++}}else if(2==e)for(let e=0;e<d.length;e++){let i=d[e];if(""!==i){let n=o[0][t][e],a=r.findIndex(e=>e.actionName==n);if(a<0){let e={actionName:n,satisfied:0,tolerating:0,frustrated:0};a=r.length,r.push(e)}switch(i){case"SATISFIED":r[a].satisfied++;break;case"TOLERATING":r[a].tolerating++;break;case"FRUSTRATED":r[a].frustrated++}}}else if(3==e)for(let e=0;e<d.length;e++){let i=d[e];if("true"===i){let i=o[0][t][e],n=r.findIndex(e=>e.actionName==i);n>-1&&(r[n].entryAction||(r[n].entryAction=!0),r[n].entryActionSVG=`<img src='${O.SVGLib()+"entry.svg"}'  onload="DashboardPowerups.SVGInject(this)" class='powerup-sankey-icon powerup-icon-white'>`)}}else if(4==e)for(let e=0;e<d.length;e++){let i=d[e];if("true"===i){let i=o[0][t][e],n=r.findIndex(e=>e.actionName==i);n>-1&&(r[n].exitAction||(r[n].exitAction=!0),r[n].exitActionSVG=`<img src='${O.SVGLib()+"exit.svg"}' onload="DashboardPowerups.SVGInject(this)" class='powerup-sankey-icon powerup-icon-white'>`)}}else if(5==e){let e;try{e=JSON.parse(c)}catch(e){console.log("Powerup: Sankey - String: unable to parse JSON")}if(void 0===e)return;e.forEach((e,i)=>{e.forEach((e,n)=>{let r=o[0][t][i],a=s.strings.findIndex(t=>t.actionName==r&&t.key==e.key&&t.val==e.value);if(a<0){let t={actionName:r,key:e.key,val:e.value,count:1};s.strings.push(t)}else{let e=s.strings[a];e.count++}})})}else if(6==e){let e;try{e=JSON.parse(c)}catch(e){console.log("Powerup: Sankey - String: unable to parse JSON")}if(void 0===e)return;e.forEach((e,i)=>{e.forEach((e,n)=>{let r=o[0][t][i],a=s.doubles.findIndex(t=>t.actionName==r&&t.key==e.key),l=Number(e.value);if(a<0){let t={actionName:r,key:e.key,sum:l,count:1};s.doubles.push(t)}else{let e=s.doubles[a];e.count++,e.sum+=l}})})}else if(7==e)for(let e=0;e<d.length;e++){let e;try{e=JSON.parse(c)}catch(e){console.log("Powerup: Sankey - String: unable to parse JSON")}if(void 0===e)return;e.forEach((e,i)=>{e.forEach((e,n)=>{let r=o[0][t][i],a=s.longs.findIndex(t=>t.actionName==r&&t.key==e.key),l=Number(e.value);if(a<0){let t={actionName:r,key:e.key,sum:l,count:1};s.longs.push(t)}else{let e=s.longs[a];e.count++,e.sum+=l}})})}else if(8==e)for(let e=0;e<d.length;e++){let e;try{e=JSON.parse(c)}catch(e){console.log("Powerup: Sankey - String: unable to parse JSON")}if(void 0===e)return;e.forEach((e,i)=>{e.forEach((e,n)=>{let r=o[0][t][i],a=s.dates.findIndex(t=>t.actionName==r&&t.key==e.key&&t.val==e.value);if(a<0){let t={actionName:r,key:e.key,val:e.value,count:1};s.dates.push(t)}else{let e=s.dates[a];e.count++}})})}})}),r.forEach(e=>{e.satisfied>Math.max(e.tolerating,e.frustrated)?e.svg=`<img src="${O.SVGLib()+"smiley-happy-2.svg"}" onload="DashboardPowerups.SVGInject(this)" class='powerup-sankey-icon powerup-icon-green'></div>`:e.tolerating>Math.max(e.satisfied,e.frustrated)?e.svg=`<img src="${O.SVGLib()+"smiley-neutral-2.svg"}" onload="DashboardPowerups.SVGInject(this)" class='powerup-sankey-icon powerup-icon-yellow'></div>`:e.frustrated>Math.max(e.tolerating,e.satisfied)?e.svg=`<img src="${O.SVGLib()+"smiley-unhappy-2.svg"}" onload="DashboardPowerups.SVGInject(this)" class='powerup-sankey-icon powerup-icon-red'></div>`:e.svg=""}),i=i.sort((e,t)=>t.weight-e.weight),{touples:i,goals:n,apdexList:r,UAPs:s}}function i(e,t,o,n=20){function r(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}let a={type:"sankey",title:{text:o.title},chart:{marginLeft:100,marginBottom:200,marginRight:100},series:[{data:e.touples.slice(0,n),type:"sankey",name:"UserActions",cursor:"crosshair",clip:!1,dataLabels:{enabled:!0,useHTML:!0,nodeFormat:"{point.display}",padding:0},nodes:[],tooltip:{nodeFormat:`<div class="powerup-sankey-tooltip">\n                            <b>{point.name}</b><br>\n                            UserActions in sample: {point.sum}<br>\n                            <u>Apdex</u><br>\n                            &nbsp;&nbsp; Satisfied: {point.apdexSatisfied}<br>\n                            &nbsp;&nbsp; Tolerating: {point.apdexTolerating}<br>\n                            &nbsp;&nbsp; Frustrated: {point.apdexFrustrated}<br>\n                            Is entry action: {point.entryAction}<br>\n                            Is exit action: {point.exitAction}<br>\n                            Goal: {point.conversionGoal}<br>\n                            ${r(o.kpi)}: {point.${o.kpi}}\n                            </div>\n                        `.trim(),pointFormat:'<div class="powerup-sankey-tooltip">\n                        {point.fromNode.name} → {point.toNode.name}: <b>{point.weight}</b><br/>\n                        </div>\n                        '.trim(),headerFormat:""}}],tooltip:{useHTML:!0,outside:!0,borderWidth:0,backgroundColor:"none",shadow:!1,className:"powerup-sankey-tooltip"},exporting:{enabled:!0,fallbackToExportServer:!0,libURL:O.POWERUP_EXT_URL+"3rdParty/Highcharts/lib",buttons:{contextButton:{menuItems:["downloadSVG","downloadPDF","separator","printChart"]}}}};e.apdexList.forEach(t=>{let i={id:t.actionName,apdex:t,apdexSatisfied:t.satisfied.toString(),apdexTolerating:t.tolerating.toString(),apdexFrustrated:t.frustrated.toString(),entryAction:t.entryAction?"true":"false",exitAction:t.exitAction?"true":"false"},n=e.goals.find(e=>e.actionName==t.actionName);void 0!==n?(i.goal=n,i.conversionGoal=n.goalName):i.conversionGoal="false";let r=navigator.language,s=e.UAPs.doubles.find(e=>e.actionName==t.actionName&&e.key==o.kpi),l={maximumFractionDigits:2};o.kpicurr&&o.kpicurr.length&&(l={style:"currency",currency:o.kpicurr}),i.revenue=void 0!==s?Intl.NumberFormat(r,l).format(s.sum):Intl.NumberFormat(r,l).format(0),i.display=t.svg+(n?`<br>${n.svg}`:"")+(t.entryActionSVG?`<br>${t.entryActionSVG}`:"")+(t.exitActionSVG?`<br>${t.exitActionSVG}`:""),a.series[0].nodes.push(i)});let s=Highcharts.chart(t,a,o=>{function r(i){let n,r=i.target,a=$(r);if(a.is(".highcharts-node"))n=o.series[0].nodes.find(e=>e.graphic.element===r);else{if(!a.parents(".highcharts-data-label").length)return!1;n=o.series[0].nodes.find(e=>e.dataLabel.div===a.parents(".highcharts-data-label")[0])}if(void 0===n)return!1;let s=n.apdex.actionName,l=Intl.NumberFormat().format,c=`<p><b>${s}</b>:</p><ul>`;if(e.UAPs.doubles.length&&(c+="<li>Double Properties:<ul>",e.UAPs.doubles.filter(e=>e.actionName===s).sort((e,t)=>e.key.toLowerCase()<t.key.toLowerCase()?-1:e.key.toLowerCase()>t.key.toLowerCase()?1:e.sum-t.sum).forEach(e=>{c+=`<li>${e.key}: <ul>`+`<li>sum: ${l(e.sum)}</li>`+`<li>count: ${l(e.count)}</li>`+`<li>avg: ${l(e.sum/e.count)}</li>`+"</ul></li>"}),c+="</ul></li>"),e.UAPs.longs.length&&(c+="<li>Long Properties:<ul>",e.UAPs.longs.filter(e=>e.actionName===s).sort((e,t)=>e.key.toLowerCase()<t.key.toLowerCase()?-1:e.key.toLowerCase()>t.key.toLowerCase()?1:e.sum-t.sum).forEach(e=>{c+=`<li>${e.key}: <ul>`+`<li>sum: ${l(e.sum)}</li>`+`<li>count: ${l(e.count)}</li>`+`<li>avg: ${l(e.sum/e.count)}</li>`+"</ul></li>"}),c+="</ul></li>"),e.UAPs.strings.length){c+="<li>String Properties:<ul>";let t,o="";e.UAPs.strings.filter(e=>e.actionName===s).sort((e,t)=>e.key.toLowerCase()<t.key.toLowerCase()?-1:e.key.toLowerCase()>t.key.toLowerCase()?1:t.count-e.count).forEach(e=>{e.key!==t&&(o.length&&(o+="</ul></li>"),c+=o,o=`<li>${e.key}:<ul>`),o+=`<li>${e.val} (${e.count})</li>`,t=e.key}),o.length&&(o+="</ul></li>"),c+=o,c+="</ul></li>"}e.UAPs.dates.length&&(c+="<li>Date Properties:<ul>",lastKey="",list="",e.UAPs.dates.filter(e=>e.actionName===s).sort((e,t)=>e.key.toLowerCase()<t.key.toLowerCase()?-1:e.key.toLowerCase()>t.key.toLowerCase()?1:t.count-e.count).forEach(e=>{e.key!==lastKey&&(list.length&&(list+="</ul></li>"),c+=list,list=`<li>${e.key}:<ul>`),list+=`<li>${e.val} (${e.count})</li>`,lastKey=e.key}),list.length&&(list+="</ul></li>"),c+=list,c+="</ul></li>");let d=$("<div>").addClass("powerupSankeyDetailPopup").html(c).click(()=>{d.remove()}).appendTo(t)}let a=$(t);o.limit=n=Math.min(n,e.touples.length),o.renderer.button("-",10,5).attr({zIndex:1100}).on("click",function(){let n=Math.max(Math.round(.5*o.limit),2);o.destroy(),i(e,t,chartTitle,n)}).add(),o.renderer.button("+",40,5).attr({zIndex:1100}).on("click",function(){let n=Math.min(2*o.limit,e.touples.length);o.destroy(),i(e,t,chartTitle,n)}).add(),o.renderer.text(`${n}/${e.touples.length}`,70,25).add(),a.find(".highcharts-plot-background").addClass("powerupPlotBackground"),a.find(".highcharts-node").click(r),a.find(".highcharts-data-label").click(r)});return s}function r(e){let t,o;if($(n).each(function(t,i){let n=$(i),r=n.text();r.includes(m)&&r.split(m)[1].includes(e)&&(o=i)}),o){let e=$(o).siblings("[data-highcharts-chart]").children(".highcharts-container");if(e.each((e,o)=>{let i=Highcharts.charts.filter(e=>void 0!==e).find(e=>e.container===o);t=$(o).parent().get(0),i&&i.destroy()}),!e.length){$(o).hide();let e=$("<div>").addClass("powerupHighchartsContainer").insertAfter(o);t=e.get(0)}}return t}if(!O.config.Powerups.sankeyPU)return;let a=/\/\d+(\/.*)?$/;return $(e).each(function(e,n){let a=$(n),s=a.text();if(!s.includes(k))return;let l=a.parents(o),d=l.find(c),u=s.split(k)[1],p=s.split(k)[0],h=u.split(";").map(e=>e.split("="));if(h.length<1)return O.config.Powerups.debug&&console.log("Powerup: ERROR - invalid argstring: "+u),!1;let g=h.find(e=>"link"==e[0])[1],f=(h.find(e=>"kpi"==e[0])||[])[1],w=(h.find(e=>"kpicurr"==e[0])||[])[1],m=r(g);if(void 0===m)return console.log("Powerup: WARN - Sankey container is undefined."),!1;if(!d.length)return!1;let b=t(d.get(0)),v={title:s=p,kpi:f=f,kpicurr:w=w};i(b,m,v);$(".highcharts-exporting-group").addClass("powerupVisible")}),!0},mapPowerUp:function(){function t(e){let t=$(e),o=[],i=[],n=[];t.find(d).each(function(e,t){let i=$(t);i.find("span").each(function(t,i){void 0===o[e]&&(o[e]=[]),o[e][t]=$(i).text()})});let r=o.length,a=o[0].length;for(let e=0;e<r;e++)n.push(o[e].shift());for(let e=0;e<a;e++){let t={};for(let i=0;i<r;i++){let a=n[i];i==r-1&&null!=o[i][e]?t[a]=Number(o[i][e].replace(/,/g,"")):t[a]=o[i][e]||0}i.push(t)}return{keys:n,normalTable:i}}if(!O.config.Powerups.worldmapPU)return;const i=function(e,t){t.disconnect(),setTimeout(()=>{transformMap(e,t)},50)};transformMap=function(e,t){function i(){t.disconnect();const{transform:e}=d3.event;let o=p.select("g[transform]");o.attr("transform",e),o.attr("stroke-width",1/e.k),t.observe(d,M)}function n(e){let t=this.getBBox();d3.event.stopPropagation(),p.transition().duration(750).call(U.transform,d3.zoomIdentity.translate(f/2,w/2).scale(Math.min(8,.9/Math.max(t.width/f,t.height/w))).translate(-(t.x+t.width/2),-(t.y+t.height/2)),d3.mouse(p.node()))}function r(){p.transition().duration(750).call(U.transform,d3.zoomIdentity,d3.zoomTransform(p.node()).invert([f/2,w/2]))}function a(){if(!O.config.Powerups.worldmapPU)return;let e,t=g.find(".powerupMapTooltip"),o=$(this),i=o.attr("title"),n=o.attr("id").split("-")[1],r=m[m.length-1],a=v.find(e=>e.country==i);if(e=void 0!==a&&void 0!==a[r]?a[r].toLocaleString():"0",t.length){let o=n.toUpperCase().replace(/./g,e=>String.fromCodePoint(e.charCodeAt(0)+127397));t.find(".geoText").text(`Country: ${i} (${o})`),t.find(".valueText").text(`${r}: ${e}`)}}if(!O.config.Powerups.worldmapPU)return;let c=E.findIndex(e=>t===e),d=I[c],u=$(d),p=d3.select(d),h=u.parents(s),g=u.parents(o),f=p.attr("width"),w=p.attr("height"),m=H[c].keys,b=m[m.length-1],v=H[c].normalTable,P=H[c].color,y=(H[c].link,H[c].newTitle),k=Math.max(1,v.reduce((e,t)=>Math.max(t[b],e),0)),x=Math.max(1,v.reduce((e,t)=>Math.min(t[b],e),0)),C=d3.scaleLog().domain([x,k]);const U=d3.zoom().scaleExtent([1,8]).on("zoom",i);if(p.call(U),p.selectAll("path").on("click",n),p.selectAll("path").on("mouseover",a),p.on("click",r),u.find("path").css("fill",""),h.css("z-index",999),!g.find(".powerupMapTooltip").length){let e=$("<div>").addClass("powerupMapTooltip").appendTo(g);$("<div>").addClass("geoText").text("Country: ").appendTo(e),$("<div>").addClass("valueText").text("Value: ").appendTo(e)}u.find("path").each(function(e,t){let o=$(t),i=o.attr("title"),n=v.filter(e=>e.country==i);o.attr("data-data",JSON.stringify(n));let r=0;if(n.length&&n[0][b]){r=n[0][b];let e=d3.hsl(P);e.s=P.s*C(r),o.css("fill",e.toString())}});let S=u.parents(o),T=S.find(l),A=`World Map (${y})`;T.text(A),O.config.Powerups.debug&&console.log("Powerup: map powered-up"),t.observe(d,M)},$(e).each((e,n)=>{let r=$(n),a=r.parents(o);if(r.text().includes(w)){let e=r.text().split(w),c=e[1],d=c.split(";").map(e=>e.split("=")),u=d.find(e=>"color"==e[0])[1]||"green";u=d3.hsl(u);let p=d.find(e=>"link"==e[0])[1];$(s).find("svg").each(function(r,s){let c=$(s).parents(o),d=c.find(l),h=d.text();if(h.includes(p)||null==p){let o=I.findIndex(e=>e==s);if(o>-1){let n=t(a);n.color=u,n.link=p,n.newTitle=e[0].trim(),H.splice(o,1,n);const r=E[o];i(void 0,r)}else{let o=t(a);o.color=u,o.link=p,o.newTitle=e[0].trim(),H.push(o);const r=new MutationObserver(i);r.observe(n,M),E.push(r),I.push(s),i(void 0,r)}}})}})},PUHeatmap:function(e,t,n){function r(e,t){var o=e.series,i="y"===t,n=o[i?"yAxis":"xAxis"];return n.categories[e[i?"y":"x"]]}if(!O.config.Powerups.heatmapPU)return;if(e.series.length<1||e.series[0].data.length<1)return;let a=t.split(y),s=a[1],l=s.split(";").map(e=>e.split("="));if(3!=l.length)return console.log("Powerup: WARN - Heatmap PU should have 3 args"),!1;let c=(l.find(e=>"vals"==e[0])[1]||".5,.7,.85,.94").split(","),d=(l.find(e=>"names"==e[0])[1]||"Unacceptable,Poor,Fair,Good,Excellent").split(","),u=(l.find(e=>"colors"==e[0])[1]||"#dc172a,#ef651f,#ffe11c,#6bcb8b,#2ab06f").split(","),p=[];for(let e=0;e<c.length;e++){let t={};0===e&&(t.to=c[e],t.name=d[e],t.color=u[e],p.push(t),t={}),t.from=c[e],t.name=d[e+1],t.color=u[e+1],e<c.length-1&&(t.to=c[e+1]),p.push(t)}let h,g=e.container,f=$(g).parents(o);if(void 0!==n){let e=Highcharts.charts.filter(e=>void 0!==e).find(e=>e.renderTo===n);e&&e.destroy(),h=$(n)}else h=$("<div>").attr("id","heatmap").insertAfter(g),n=h[0];let w=f.find(i),m=[],b=[],v=[];e.series.forEach((e,t)=>{if("column"!=e.type)return void console.log("Powerup: ERROR - Please use a bar chart as a source for heatmap powerup.");let o=e.name;if(w.length){let t=w.find(`svg[fill='${e.color}']`).parents(".gwt-HTML").text();t.length&&(o=t)}b.push(o),e.data.forEach(e=>{const t=new Date(e.category);e.newCat=t.toLocaleDateString(),e.newCatIdx=v.findIndex(t=>t===e.newCat),e.newCatIdx<0&&(e.newCatIdx=v.length,v.push(e.newCat))}),v.forEach((o,i)=>{let n=e.data.filter(e=>e.newCatIdx===i).reduce((e,t,o,i)=>(e+=t.y,o===i.length-1?e/i.length:e),0);m.push([i,t,n])})}),m=m.sort((e,t)=>e[0]===t[0]?e[1]-t[1]:e[0]-t[0]);let P={type:"heatmap",data:m,dataLabels:{enabled:!0,color:"#000000",format:"{point.value:.2f}"}},k={type:"heatmap",series:[P],title:{text:t.split(y)[0]+" Heatmap"},credits:{enabled:!1},xAxis:{categories:v,reversed:!0},yAxis:{categories:b,title:null,reversed:!0},tooltip:{enabled:!0,formatter:function(){return"Date:<b>"+r(this.point,"x")+"</b><br>App:<b>"+r(this.point,"y")+"</b><br>"+t.split(" ")[0]+":<b>"+this.point.value.toLocaleString(void 0,{maximumFractionDigits:2})+"</b>"}},colorAxis:{dataClasses:p},exporting:{enabled:!0,fallbackToExportServer:!0,libURL:O.POWERUP_EXT_URL+"3rdParty/Highcharts/lib",buttons:{contextButton:{menuItems:["downloadSVG","downloadPDF","separator","downloadCSV","downloadXLS","printChart"]}}}};$(g).hide(),h.html("");Highcharts.chart(n,k);return $(".highcharts-exporting-group").addClass("powerupVisible"),!0},PUfunnel:function(){if(!O.config.Powerups.funnelPU)return;let t=new $.Deferred,i=$(h);if(!i.length)return!!G&&(console.log("Powerup: DEBUG - D3MutexBlocking but no D3s. Clear it."),G=!1,!1);if(G)return console.log("Powerup: D3MutexBlocked Funnel Powerup"),!1;G=!0,$.when(t).always(()=>{G=!1});const n={chart:{curve:{enabled:!0,height:40},bottomPinch:1},block:{minHeight:100,dynamicHeight:!1,dynamicSlope:!1,barOverlay:!1,fill:{type:"gradient"}},label:{fill:"#fff",enabled:!1}};return $(h).each((i,r)=>{let a=$(r),s=a.parents(o),l=s.find(e);if(l.text().includes(x)){
let e=l.text().split(x),o=e[1],i=o.split(";").map(e=>e.split("=")),r=i.find(e=>"mode"==e[0])[1],s=Number(i.find(e=>"small"==e[0])[1]),u=Number(i.find(e=>"big"==e[0])[1]),p=i.find(e=>"links"==e[0])[1],h=$(O.findLinkedMarkdown(p)),g=h.text();h.hide();const f=/^(?:\d+=)(.*)/gm;let w=Array.from(g.matchAll(f)).map(e=>e[1]);switch(r){case"slope":n.block.dynamicSlope=!0,n.block.dynamicHeight=!1,n.block.barOverlay=!1;break;case"bar":n.block.dynamicSlope=!1,n.block.dynamicHeight=!1,n.block.barOverlay=!0;break;case"height":default:n.block.dynamicSlope=!1,n.block.dynamicHeight=!0,n.block.barOverlay=!1}let m=a.children("div:nth-of-type(2)").children(),b=(m.length,[]);m.each((e,t)=>{let o=$(t),i={};i.abs=Number(o.find("div:first-of-type > span:nth-of-type(1)").text().replace(/[,]*/g,"")),i.percent=Number(o.find("div:first-of-type > span:nth-of-type(2)").text().replace(/[()%]*/g,"")),i.dPercent=Number(o.children("span:nth-of-type(1)").text().replace(/[()%]*/g,"")),i.dTime=o.children("span:nth-of-type(2)").text(),i.name=o.children("div:nth-of-type(2)").text(),i.label=i.name,i.value=i.abs,i.customFormattedValue=`\n                        ${i.name}: <b>${i.abs}</b> (${i.percent}%)<br>\n                        <small>${i.dPercent}% ${i.dTime}</small>\n                        `.trim(),b.push(i)}),a.find("div:nth-of-type(1)").hide(),a.find("div:nth-of-type(2)").hide();let v=$("#powerupFunnelContainer");v.length||(v=$("<div>").attr("id","powerupFunnelContainer").appendTo(a));let P=new D3Funnel(v[0]);P.draw(b,n);let y=5;function c(){b.forEach((e,t)=>{function o(e){const{r:t,g:o,b:i}=d3.color(e),n=-.2,r=n<0?0:255,a=n<0?-1*n:n,s=16777216+65536*(Math.round((r-t)*a)+t)+256*(Math.round((r-o)*a)+o)+(Math.round((r-i)*a)+i);return`#${s.toString(16).slice(1)}`}function i(e,t){g.find("stop").each((o,i)=>{switch(o){case 0:case 3:$(i).css("stop-color",t);break;case 1:case 2:default:$(i).css("stop-color",e)}})}let n=v.find(`svg g:nth-of-type(${t+1}) path`),r=n.get(0),a=r.getBBox(),l=$("<div>").addClass("powerupFunnelLabel").html(e.customFormattedValue).appendTo(v),c=v.position(),d=c.left+v.width()/2-l.width()/2,p=a.y+a.height/2-l.height()/2;l.css({top:p,left:d});let h,g=v.find(`svg linearGradient:nth-of-type(${t+1})`).eq(0);h=e.dPercent<-1*u?"#dc172a":e.dPercent>u?"#54c27d":e.dPercent<-1*s?"#f28289":e.dPercent>s?"#99dea8":"#898989";let f=o(h);if(i(h,f),0===t){let e=v.find("svg > path").eq(0);e.attr("fill",f)}let m="#008cdb",b=o(m);n.add(l).hover(()=>{i(m,b)},()=>{i(h,f)}),n.add(l).click(()=>{window.location.href=w[t]})}),console.log("Powerup: Funnel power up found"),t.resolve(!0)}function d(){if(!y)return t.resolve(!1),!1;let e=v.find("svg g").length;e==b.length?c():(y--,console.log(`checkForDoneDrawing: ${e} < ${b.length}, tries: ${y}`),setTimeout(d,100))}d()}else t.resolve(!1)}),t},PUMath:function(){O.config.Powerups.mathPU&&$(n).each((e,t)=>{let o=$(t),i=(o.parents(".grid-tile"),o.text());if(!i.includes(C))return;O.config.Powerups.debug&&console.log("Powerup: math power-up found");let n=i.split(C)[1],r=n.split(";").map(e=>e.split("=")),a=r.find(e=>"exp"==e[0])[1],s=r.find(e=>"scope"==e[0])[1],l=r.find(e=>"color"==e[0])[1],c=s.trim().split(",").map(e=>e.includes(":")?{name:e.split(":")[0],link:e.split(":")[1]}:{name:e,link:e});c.forEach(e=>{e.val=O.findLinkedVal(e.link)});let d=c.map(e=>({type:3,token:e.name,show:e.name,value:e.name})),u={};c.forEach(e=>{let t=e.name;u[t]=e.val});let p=mexp.eval(a,d,u);o.hide();let h=$("<div>").addClass("powerupMath").insertAfter(o);$("<h1>").text(p).css("color",l).appendTo(h)})},puDate:function(){O.config.Powerups.datePU&&$(n).each((e,t)=>{let o=$(t),i=(o.parents(".grid-tile"),o.text());if(!i.includes(U))return;O.config.Powerups.debug&&console.log("Powerup: math power-up found");let n=i.split(U)[1],r=n.split(";").map(e=>e.split("=")),a=r.find(e=>"res"==e[0])[1],s=r.find(e=>"fmt"==e[0])[1],l=r.find(e=>"color"==e[0])[1],c=dtDateMath.resolve(a),d=(c[0],c[1],c[2].start),u=dateFns.format(d,s);o.hide();let p=$("<div>").addClass("powerupDate").insertAfter(o);$("<h2>").text(u).css("color",l).appendTo(p)})},extDisclaimer:function(){function e(){$(o).each((e,o)=>{let i=$(o),n=i.css("top");n=n.substr(0,n.length-2),n=Number(n),n-=t,n+="px",$(o).css("top",n)})}const t=76,i="Powerup Enabled Dashboard";$(n).each((t,o)=>{let n=$(o);n.text().includes(i)&&n.is(":visible")&&(n.hide(),e())})},fireAllPowerUps:function(e=!1){let t=new $.Deferred,o=[];return o.push(O.extDisclaimer()),o.push(O.PUHighcharts()),o.push(O.bannerPowerUp()),o.push(O.colorPowerUp()),o.push(O.updateSVGPowerUp()),o.push(O.svgPowerUp()),o.push(O.mapPowerUp()),o.push(O.PUfunnel()),o.push(O.PUMath()),o.push(O.puDate()),O.loadChartSync(),V("sankey",()=>{o.push(O.sankeyPowerUp())}),$.when.apply($,o).always(function(){let o=O.cleanMarkup();O.config.Powerups.debug&&console.log("Powerup: DEBUG - fire all PowerUps"+(e?" (update)":"")),$.when(o).always(()=>{t.resolve()})}),t}};return O.GridObserver=function(){const e=200;var t={},o={},i={};const n=1e3,r=(t,o)=>{O.config.Powerups.debug&&(console.log("Powerup: DEBUG - mutations happening:"),console.log(t)),clearTimeout(i),i=setTimeout(()=>{a(t,o)},e)},a=(e,r)=>{let s;O.config.Powerups.debug&&console.log("Powerup: DEBUG - mutations have stopped."),o.disconnect(),(window.location.hash.startsWith("#dashboard;")||window.location.hash.startsWith("#dashboard/dashboard;"))&&(!$('[uitestid="gwt-debug-dashboardGrid"]').length||$(".loader:visible").length||$('[uitestid="gwt-debug-tileLoader"]:visible').length?(clearTimeout(i),i=setTimeout(()=>{a(e,r)},n)):s=O.fireAllPowerUps(),$.when(s).done(()=>{t.observeGrid()}))};return t.launchGridObserver=(()=>{o=new MutationObserver(r),t.observeGrid(),i=setTimeout(()=>{a(void 0,void 0)},n)}),t.observeGrid=(()=>{const e=".grid-dashboard",t='[uitestid="gwt-debug-title"]';let i=$(e);if(i.length<1)return!1;i.each((e,t)=>{o.observe(t,{attributes:!0,childList:!0,subtree:!1})});let n=$(t);n.length&&n.each((e,t)=>{o.observe(t,{attributes:!0,childList:!0,subtree:!1})})}),t}(),O}();